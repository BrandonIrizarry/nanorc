local M = {}

-- A set of proto-commands from which the real commands are derived.
local proto = {
	["nnn"] = [[
@SP
A=M-1
M=%sM]],

	["bin"] = [[
@SP
M=M-1
A=M
D=M
M=M-1
M=D%sM]],

	["cmp_0"] = [[
@SP
A=M-1
D=M
M=-1
@DONE
D;J%s
@SP
A=M-1
M=0
(DONE)]]
}

-- The real arithmetic-logic command-set
local commands = {}

commands["neg"] = string.format(proto["nnn"], "neg", "-")
commands["not"] = string.format(proto["nnn"], "not", "!")
commands["add"] = string.format(proto["bin"], "add", "+")
commands["and"] = string.format(proto["bin"], "and", "&")
commands["or"] = string.format(proto["bin"], "or", "|")
commands["sub"] = string.format("%s\n%s"
