local RANK = 1
local QUESTION = 2
local ANSWER = 3

local function query (msg, menu)
	if msg then
		io.write(msg)
	end

	repeat
		ans = io.read()
	until ans == "y" or ans == "n"

	return ans == "y"
end

local function ask (card)
	print(card[QUESTION])
	query("Ready?", {["\n"] = true})
	print(card[ANSWER])

	if query("Did you get this one?") == "y" then
		card[RANK] = card[RANK] + 1
	else
		card[RANK] = 0
	end
end

local function examine (card)
	print(string.format("rank=%d", card[RANK]))
	print(string.format("question=%s", card[QUESTION]))
	print(string.format("answer=%s", card[ANSWER]))
	print()
end


dofile("cards/forth.lua")


for _, card in ipairs(data) do
	ask(card)
end


for _, card in ipairs(data) do
	examine(card)
end

ask(data[1])
examine(data[1])
